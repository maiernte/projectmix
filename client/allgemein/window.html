<div class='box' style="margin-top:5px;">
    <div class="ui attached segment" style='padding:0' #domtosave>
        <ng-content></ng-content>
    </div>
    <div class="ui bottom attached small menu" style="background-color: #eee;">
        <div class="right menu">
            <div class="ui animated vertical button item" (click)='showSetting()' *ngIf="CanSave">
                <div class="visible content">
                    <i class="icon setting"></i>
                </div>
                <div class="hidden content">
                    {{'功能' | tran:glsetting.lang}}
                </div>
            </div>
            <div class="ui animated vertical button item" (click)='wide = !wide'>
                <div class="visible content">
                    <i class="icon resize horizontal"></i>
                </div>
                <div class="hidden content">
                    {{'宽显' | tran:glsetting.lang}}
                </div>
            </div>
            <div class="ui animated vertical button item" (click)="saveAsPng(domtosave)" *ngIf="CanSave">
                <div class="visible content">
                    <i class="icon photo"></i>
                </div>
                <div class="hidden content">
                    {{'快照' | tran:glsetting.lang}}
                </div>
            </div>
            <div class="ui animated vertical button item" 
                *ngIf='CanSave'
                (click)="showSaveModal(modal)">
                <div class="visible content">
                    <i class="icon save"></i>
                </div>
                <div class="hidden content">
                    {{'保存' | tran:glsetting.lang}}
                </div>
            </div>
            <div class="ui animated vertical button item" (click)="close()">
                <div class="visible content">
                    <i class="icon remove"></i>
                </div>
                <div class="hidden content">
                    {{'关闭' | tran:glsetting.lang}}
                </div>
            </div>
            
        </div>
    </div>
    
    <div class="ui modal save pan" #modal [id]="data.id">
        <div class="header">{{'保存记录' | tran:glsetting.lang}}</div>
        <div class="content">
            <!--<div class="ui vertical menu">
                <a class="approve item" *ngFor="#bk of books" (click)="saveTo(bk)">
                    {{bk.name | tran:glsetting.lang}}
                </a>
            </div>-->
            <div class="ui large form">
                <div class="grouped fields">
                    <label>{{'选择一本书集：' | tran}}</label>
                    <div class="field" *ngFor="#bk of books"
                        (click)="selectedbook = bk">
                        <div class="ui radio checkbox">
                            <input type="radio" name="selectbook">
                            <label>{{bk.name | tran:glsetting.lang}}</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="actions">
            <div class="ui cancel small button">{{'取消' | tran:glsetting.lang}}</div>
            <div class="ui approve primary small button"
                (click)="saveTo()"
                [class.disabled]="selectedbook == null">
                {{'保存' | tran:glsetting.lang}}
            </div>
            <div class="ui approve primary small button"
                (click)="saveTo(true)"
                [class.disabled]="selectedbook == null">
                {{'保存并跳转' | tran:glsetting.lang}}
            </div>
        </div>
    </div>
</div>

